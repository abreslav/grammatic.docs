%% This is file `infothm.sty'
%% INFO project. Theorem style
%% Vytas Statulevicius, VTEX, Lithuania, 1997
%% e-mail: vytass@ktl.mii.lt
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{infothm}
             [1997/10/15
                 NEWTHEOREM style]
%****************** NEWTHEOREM
%
\typeout{NEWTHEOREM environments loaded^^J}
\@ifundefined{theorem@style}{\RequirePackage{theorem}}{}
%
% Changes for environments without counters support
%
\gdef\@xnthm#1#2[#3]{\expandafter\@ifdefinable\csname #1\endcsname
   {%
    \@definecounter{#1}\@addtoreset{#1}{#3}%
    \expandafter\xdef\csname the#1\endcsname
      {\expandafter \noexpand \csname the#3\endcsname
       \@thmcountersep \@thmcounter{#1}}%
    \def\@tempa{\global\@namedef{#1}}%
    \expandafter \@tempa \expandafter{%
      \csname th@\the \theorem@style
            \expandafter \endcsname \the \theorem@bodyfont
     \@thm{#1}{#2}}%
    \global \expandafter \let \csname end#1\endcsname \@endtheorem
    \def\@tempb{\global\@namedef{#1*}}%
    \expandafter \@tempb \expandafter{%
      \csname th@\the \theorem@style
            \expandafter \endcsname \the \theorem@bodyfont
     \@thmstar{#2}}%
    \global \expandafter \let \csname end#1*\endcsname \@endtheorem
   }}
\gdef\@ynthm#1#2{\expandafter\@ifdefinable\csname #1\endcsname
   {\@definecounter{#1}%
    \expandafter\xdef\csname the#1\endcsname{\@thmcounter{#1}}%
    \def\@tempa{\global\@namedef{#1}}\expandafter \@tempa
     \expandafter{\csname th@\the \theorem@style \expandafter
     \endcsname \the\theorem@bodyfont \@thm{#1}{#2}}%
    \global \expandafter \let \csname end#1\endcsname \@endtheorem
    \def\@tempb{\global\@namedef{#1*}}\expandafter \@tempb
     \expandafter{\csname th@\the \theorem@style \expandafter
     \endcsname \the\theorem@bodyfont \@thmstar{#2}}%
    \global \expandafter \let \csname end#1*\endcsname \@endtheorem}}
\gdef\@othm#1[#2]#3{\expandafter\@ifdefinable\csname #1\endcsname
  {\expandafter \xdef \csname the#1\endcsname
     {\expandafter \noexpand \csname the#2\endcsname}%
    \def\@tempa{\global\@namedef{#1}}\expandafter \@tempa
     \expandafter{\csname th@\the \theorem@style \expandafter
     \endcsname \the\theorem@bodyfont \@thm{#2}{#3}}%
    \global \expandafter \let \csname end#1\endcsname \@endtheorem
    \def\@tempb{\global\@namedef{#1*}}\expandafter \@tempb
     \expandafter{\csname th@\the \theorem@style \expandafter
     \endcsname \the\theorem@bodyfont \@thmstar{#3}}%
    \global \expandafter \let \csname end#1*\endcsname \@endtheorem}}
\gdef\@thm#1#2{\refstepcounter{#1}%
   \trivlist
   \@topsep \theorempreskipamount%
   \@topsepadd \theorempostskipamount%
   \@ifnextchar [%
   {\@ythm{#1}{#2}}%
   {\@begintheorem{#2}{\csname the#1\endcsname}\ignorespaces}}
\gdef\@thmstar#1{%
   \trivlist
   \@topsep \theorempreskipamount%
   \@topsepadd \theorempostskipamount%
   \@ifnextchar [%
   {\@ythmstar{#1}}%
   {\@@begintheorem{#1}\ignorespaces}}
\def\@ythmstar#1[#2]{%
  \@@opargbegintheorem{#1}{#2}\ignorespaces}
\global\let\@xthm\relax
%
\gdef\@@theorembodyfont#1{%
    \global\theorem@bodyfont{\reset@font#1}%
   }

%
\def\thm@shape{\labelsep\z@\itemindent\parindent}
% Theorem, Lemma...
\gdef\th@A{\normalfont\itshape\@@theorembodyfont{\itshape}%
  \def\@begintheorem##1##2{\thm@shape%
        \item[\theorem@headerfont ##1\ ##2\@thmcountersep]}%
  \def\@@begintheorem##1{\thm@shape%%
        \item[\theorem@headerfont ##1\@thmcountersep]}%
\def\@opargbegintheorem##1##2##3{\thm@shape%%
   \item[\theorem@headerfont ##1\ ##2]\ \textup{##3}\@thmcountersep}
\def\@@opargbegintheorem##1##2{\thm@shape%%
   \item[\theorem@headerfont ##1]\ \textup{##2}\@thmcountersep}}
%
% Definition, ...
\gdef\th@B{\normalfont\upshape\@@theorembodyfont{\upshape}%%
  \def\@begintheorem##1##2{\thm@shape%
        \item[\normalfont\scshape ##1\ ##2\@thmcountersep]}%
  \def\@@begintheorem##1{\thm@shape%%
        \item[\normalfont\scshape ##1\@thmcountersep]}%
\def\@opargbegintheorem##1##2##3{\thm@shape%%
   \item[\normalfont\scshape ##1\ ##2]\ \mdseries ##3\@thmcountersep}
\def\@@opargbegintheorem##1##2{\thm@shape%%
   \item[\normalfont\scshape ##1]\ \mdseries ##2\@thmcountersep}}
%
% Proof, Remark,...
\gdef\th@M{\normalfont\upshape\@@theorembodyfont{\upshape}%%%
  \def\@begintheorem##1##2{\thm@shape%%
        \item[\normalfont\itshape ##1\ ##2\@thmcountersep]}%
  \def\@@begintheorem##1{\thm@shape%%
        \item[\normalfont\itshape ##1\@thmcountersep]}%
\def\@opargbegintheorem##1##2##3{\thm@shape%%
   \item[\normalfont\itshape ##1\ ##2]\upshape ##3\@thmcountersep}
\def\@@opargbegintheorem##1##2{\thm@shape%%
   \item[\normalfont\itshape ##1]\upshape ##2\@thmcountersep}}
%
%DEFAULT VALUES
\global\setlength\theorempreskipamount\medskipamount
\global\setlength\theorempostskipamount\medskipamount
\def\@thmcounter#1{\noexpand\arabic{#1}}
\gdef\@thmcountersep{.\hskip.5em}

\theorembodyfont{\itshape}
\theoremheaderfont{\normalfont\bfseries}

\theoremstyle{A}
\if@secthm
  \newtheorem{thm}{Theorem}[section]
  \newtheorem{lem}{Lemma}[section]
\else
  \newtheorem{thm}{Theorem}
  \newtheorem{lem}{Lemma}
\fi

\theoremstyle{B}
\if@secthm
\newtheorem{ass}{Assumption}[section]
\newtheorem{cor}{Corollary}[section]
\newtheorem{prop}{Proposition}[section]
\newtheorem{defn}{Definition}[section]
\newtheorem{exmp}{Example}[section]
\newtheorem{rem}{Remark}[section]
\else
\newtheorem{ass}{Assumption}
\newtheorem{cor}{Corollary}
\newtheorem{prop}{Proposition}
\newtheorem{defn}{Definition}
\newtheorem{exmp}{Example}
\newtheorem{rem}{Remark}
\fi

\theoremstyle{M}
\newtheorem{proof}[thm]{Proof}

\theoremstyle{A}

\if@secthm
 \@addtoreset{thm}{section}
 \@addtoreset{lem}{section}
 \@addtoreset{cor}{section}
 \@addtoreset{prop}{section}
 \@addtoreset{defn}{section}
 \@addtoreset{exmp}{section}
 \@addtoreset{rem}{section}
 \def\thethm{\thesection.\arabic{thm}}
 \def\thelem{\thesection.\arabic{lem}}
 \def\thecor{\thesection.\arabic{cor}}
 \def\theprop{\thesection.\arabic{prop}}
 \def\thedefn{\thesection.\arabic{defn}}
 \def\theexmp{\thesection.\arabic{exmp}}
 \def\therem{\thesection.\arabic{rem}}
\else
 \def\thethm{\arabic{thm}}
 \def\thelem{\arabic{lem}}
 \def\thecor{\arabic{cor}}
 \def\theprop{\arabic{prop}}
 \def\thedefn{\arabic{defn}}
 \def\theexmp{\arabic{exmp}}
 \def\therem{\arabic{rem}}
\fi
\endinput
