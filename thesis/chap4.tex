\part{Автоматизация разработки средств композиции в предметно-ориентированных языках}\label{part4}

// Обобщаем подход, использованный в Grammatic

\input{chap4basic.tex}
\input{chap4temp.tex}
\input{chap4aspects.tex}

\chapter{Пример: Автоматическое расширение языка Emfatic}

\begin{lstlisting}
specification : classifier*;
classifier
	: class
	: enum
	: data
	;
class
	: 'abstract'? 'class' NAME ('extends' <List NAME, ','>)? '{'
		feature*
	  '}'
	;
feature
	: 'attr' sign
	: 'ref' sign
	: 'val' sign
	;
sign : NAME ':' type;
type : NAME ('*' | '+' | '?')?;
enum : 'enum' NAME '{' <List NAME, ','> '}' ;
data : 'data' NAME '=' STRING ;
\end{lstlisting}

\begin{lstlisting}
template List<N, T> {
	class N {
		
	}
}

\end{lstlisting}

шаблоны

аспекты

\chapter{Сравнение с существующими подходами}

Шаблоны (или типизированные макроопределения) реализованы во многих языках программирования \cite{???}, однако эти разработки представляют собой частные решения проблемы и не переносятся на произвольные предметно-ориентированные языки.

\begin{table}[htb]
	\centering
\newcommand{\dissonly}[1]{#1}
\input{templates.table.tex}
	\caption{Поддержка шаблонов}\label{TmpTable}
\end{table}


\begin{table}[htb]
	\centering
\newcommand{\dissonly}[1]{#1}
\input{aspects.table.tex}
	\caption{Поддержка аспектов}\label{AspTable}
\end{table}

Наиболее важным свойством предложенного подхода является его универсальность --- шаблоны и аспекты могут быть автоматически добавлены в произвольный язык. Наиболее распространенные подходы, обладающие таким свойством, основаны на порождении текста \cite{???}: они не проверяют типы и не гарантируют структурной корректности результатов. Основным недостатком этих подходов является возможность порождения спецификаций с ошибками, причины которых трудно отследить (как при использовании препроцессора \tool{C} и шаблонов \tool{C++}).

Подход проекта \tool{Reuseware} \cite{???} обеспечивает структурную корректность результатов разворачивания, однако обладает следующими существенными недостатками по сравнению с изложенным выше:
\begin{enumerate}
\item Шаблоны имеют незамкнутую форму --- базовый язык шаблонов не интегрируется с расширяемым языком и требует отдельной инструментальной поддержки.
\item Аспекты не поддерживают незнание --- точки встраивания должны быть специальным образом подготовлены для расширения.
\item Невозможна замена подобъектов --- только добавление. \bad{???}
\end{enumerate}

Подход, предложенный в работе \cite{VanWyk} не позволяет получать расширения языков автоматически, к тому же он поддерживает только аспекты. Шаблоны не поддерживаются.

+ единый формализм для шаблонов и аспектов. Есть только у Reuseware

\chapter{Выводы}

Предложен автоматизированный подход к расширению предметно-ориентированных языков поддержкой композиции на основе шаблонов и аспектов, гарантирующих структурную корректность результатов композиции. Данный подход позволяет сократить сроки создания языков с поддержкой указанных механизмов композиции, поскольку данные механизмы не требуется разрабатывать вручную.