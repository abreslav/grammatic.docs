\afsubsection{Третья глава} посвящена описанию генератора трансляторов \ATF{}, построенного на базе языка \GRM{}. Целью создания этого генератора является не только демонстрация возможностей \GRM{}, но и решение задачи генерации кода на разных языках программирования по одной спецификации транслятора. Эта задача важна для разработки предметно-ориентированных языков, поскольку эти языки должны быть легко совместимыми с различными языками реализации, чтобы не ограничивать разработчиков в выборе платформы.

\ATF{} принимает на вход грамматику, аннотированную семантическими действиями, задающими схему L-атрибутной трансляции, и генерирует транслятор. Семантические действия могут использовать следующие операции: (а) чтение и запись атрибута, (б) вызов внешней функции, написанной на языке реализации, (в) передача параметров функциям, осуществляющим разбор. 
Отличительной особенностью \ATF{} является наличие статической проверки типов внутри семантических действий, гарантирующей отсутствие ошибок типизации в сгенерированном коде при условии корректной конфигурации генератора. Этот механизм обеспечивает раннее обнаружение ошибок, допущенных разработчиком транслятора, ускоряя таким образом процесс разработки.
Для генерации кода, непосредственно осуществляющего синтаксический анализ, могут быть использованы различные существующие генераторы, которые можно подключать к \ATF{}. Как правило, бывает целесообразным использование различных существующих генераторов для различных языков реализации.

Механизм работы с типами, используемый в \ATF{}, имеет два уровня: \term{абстрактный уровень} выражает свойства общие для всех языков реализации; с помощью типов этого уровня проверяются семантические действия. \term{Конкретный уровень} описывает процесс генерации из типов и функций абстрактного уровня соответствующих элементов языка реализации. Таким образом, для данной спецификации существует ровно одна система типов абстрактного уровня и, возможно, несколько систем конкретного уровня --- как минимум, по одной на каждый язык реализации.

Системы типов абстрактного уровня поддерживают полиморфизм, основанный на  подтипах, аналогично объектно-ориентированным языкам. При этом поддерживается локальный вывод типов. По спецификации на языке \ATF{} генерируется транслятор и заголовки использованных функций на языке реализации.

\ATF{} предоставляет декларативные предметно-ориентированные языки для описания систем типов обоих уровней и программный интерфейс, позволяющий добавлять другие способы описания систем типов. С помощью последнего интерфейса реализована тесная интеграция с системой типов языка \tool{Java}.

Транслятор языка \GRM{} был реализован с помощью \ATF{} (основным языком реализации является \tool{Java}, а для генерации синтаксического анализатора используется \tool{ANTLR}).

\begin{table}[htbp]
	\centering
\newcommand{\dissonly}[1]{}
	\input{atf.table.tex}
	\caption{Сравнение \ATF{} с существующими инструментами}\label{AtfTable}
\end{table}
